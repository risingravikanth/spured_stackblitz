{"remainingRequest":"E:\\Ravikanth\\spured_new\\node_modules\\@angular-devkit\\build-optimizer\\src\\build-optimizer\\webpack-loader.js??ref--8-1!E:\\Ravikanth\\spured_new\\node_modules\\mydatepicker\\dist\\services\\my-date-picker.util.service.js","dependencies":[{"path":"E:\\Ravikanth\\spured_new\\node_modules\\mydatepicker\\dist\\services\\my-date-picker.util.service.js","mtime":1537599893000},{"path":"E:\\Ravikanth\\spured_new\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1571556314130},{"path":"E:\\Ravikanth\\spured_new\\node_modules\\@angular-devkit\\build-optimizer\\src\\build-optimizer\\webpack-loader.js","mtime":1528256844000}],"contextDependencies":[],"result":["import { Injectable } from \"@angular/core\";\nvar M = \"m\";\nvar MM = \"mm\";\nvar MMM = \"mmm\";\nvar D = \"d\";\nvar DD = \"dd\";\nvar YYYY = \"yyyy\";\nexport var UtilService = /*@__PURE__*/ (function () {\n    function UtilService() {\n        this.weekDays = [\"su\", \"mo\", \"tu\", \"we\", \"th\", \"fr\", \"sa\"];\n    }\n    UtilService.prototype.isDateValid = function (dateStr, dateFormat, minYear, maxYear, disableUntil, disableSince, disableWeekends, disableWeekDays, disableDays, disableDateRanges, monthLabels, enableDays) {\n        var returnDate = { day: 0, month: 0, year: 0 };\n        var daysInMonth = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\n        var isMonthStr = dateFormat.indexOf(MMM) !== -1;\n        var delimeters = this.getDateFormatDelimeters(dateFormat);\n        var dateValue = this.getDateValue(dateStr, dateFormat, delimeters);\n        var year = this.getNumberByValue(dateValue[0]);\n        var month = isMonthStr ? this.getMonthNumberByMonthName(dateValue[1], monthLabels) : this.getNumberByValue(dateValue[1]);\n        var day = this.getNumberByValue(dateValue[2]);\n        if (month !== -1 && day !== -1 && year !== -1) {\n            if (year < minYear || year > maxYear || month < 1 || month > 12) {\n                return returnDate;\n            }\n            var date = { year: year, month: month, day: day };\n            if (this.isDisabledDay(date, minYear, maxYear, disableUntil, disableSince, disableWeekends, disableWeekDays, disableDays, disableDateRanges, enableDays)) {\n                return returnDate;\n            }\n            if (year % 400 === 0 || (year % 100 !== 0 && year % 4 === 0)) {\n                daysInMonth[1] = 29;\n            }\n            if (day < 1 || day > daysInMonth[month - 1]) {\n                return returnDate;\n            }\n            return date;\n        }\n        return returnDate;\n    };\n    UtilService.prototype.getDateValue = function (dateStr, dateFormat, delimeters) {\n        var del = delimeters[0];\n        if (delimeters[0] !== delimeters[1]) {\n            del = delimeters[0] + delimeters[1];\n        }\n        var re = new RegExp(\"[\" + del + \"]\");\n        var ds = dateStr.split(re);\n        var df = dateFormat.split(re);\n        var da = [];\n        for (var i = 0; i < df.length; i++) {\n            if (df[i].indexOf(YYYY) !== -1) {\n                da[0] = { value: ds[i], format: df[i] };\n            }\n            if (df[i].indexOf(M) !== -1) {\n                da[1] = { value: ds[i], format: df[i] };\n            }\n            if (df[i].indexOf(D) !== -1) {\n                da[2] = { value: ds[i], format: df[i] };\n            }\n        }\n        return da;\n    };\n    UtilService.prototype.getMonthNumberByMonthName = function (df, monthLabels) {\n        if (df.value) {\n            for (var key = 1; key <= 12; key++) {\n                if (df.value.toLowerCase() === monthLabels[key].toLowerCase()) {\n                    return key;\n                }\n            }\n        }\n        return -1;\n    };\n    UtilService.prototype.getNumberByValue = function (df) {\n        if (!/^\\d+$/.test(df.value)) {\n            return -1;\n        }\n        var nbr = Number(df.value);\n        if (df.format.length === 1 && df.value.length !== 1 && nbr < 10 || df.format.length === 1 && df.value.length !== 2 && nbr >= 10) {\n            nbr = -1;\n        }\n        else if (df.format.length === 2 && df.value.length > 2) {\n            nbr = -1;\n        }\n        return nbr;\n    };\n    UtilService.prototype.getDateFormatDelimeters = function (dateFormat) {\n        return dateFormat.match(/[^(dmy)]{1,}/g);\n    };\n    UtilService.prototype.parseDefaultMonth = function (monthString) {\n        var month = { monthTxt: \"\", monthNbr: 0, year: 0 };\n        if (monthString !== \"\") {\n            var split = monthString.split(monthString.match(/[^0-9]/)[0]);\n            month.monthNbr = split[0].length === 2 ? parseInt(split[0]) : parseInt(split[1]);\n            month.year = split[0].length === 2 ? parseInt(split[1]) : parseInt(split[0]);\n        }\n        return month;\n    };\n    UtilService.prototype.formatDate = function (date, dateFormat, monthLabels) {\n        var formatted = dateFormat.replace(YYYY, String(date.year));\n        if (dateFormat.indexOf(MMM) !== -1) {\n            formatted = formatted.replace(MMM, monthLabels[date.month]);\n        }\n        else if (dateFormat.indexOf(MM) !== -1) {\n            formatted = formatted.replace(MM, this.preZero(date.month));\n        }\n        else {\n            formatted = formatted.replace(M, String(date.month));\n        }\n        if (dateFormat.indexOf(DD) !== -1) {\n            formatted = formatted.replace(DD, this.preZero(date.day));\n        }\n        else {\n            formatted = formatted.replace(D, String(date.day));\n        }\n        return formatted;\n    };\n    UtilService.prototype.preZero = function (val) {\n        return val < 10 ? \"0\" + val : String(val);\n    };\n    UtilService.prototype.isDisabledDay = function (date, minYear, maxYear, disableUntil, disableSince, disableWeekends, disableWeekDays, disableDays, disableDateRanges, enableDays) {\n        for (var _i = 0, enableDays_1 = enableDays; _i < enableDays_1.length; _i++) {\n            var e = enableDays_1[_i];\n            if (e.year === date.year && e.month === date.month && e.day === date.day) {\n                return false;\n            }\n        }\n        var dn = this.getDayNumber(date);\n        if (date.year < minYear && date.month === 12 || date.year > maxYear && date.month === 1) {\n            return true;\n        }\n        var dateMs = this.getTimeInMilliseconds(date);\n        if (this.isInitializedDate(disableUntil) && dateMs <= this.getTimeInMilliseconds(disableUntil)) {\n            return true;\n        }\n        if (this.isInitializedDate(disableSince) && dateMs >= this.getTimeInMilliseconds(disableSince)) {\n            return true;\n        }\n        if (disableWeekends) {\n            if (dn === 0 || dn === 6) {\n                return true;\n            }\n        }\n        if (disableWeekDays.length > 0) {\n            for (var _a = 0, disableWeekDays_1 = disableWeekDays; _a < disableWeekDays_1.length; _a++) {\n                var wd = disableWeekDays_1[_a];\n                if (dn === this.getWeekdayIndex(wd)) {\n                    return true;\n                }\n            }\n        }\n        for (var _b = 0, disableDays_1 = disableDays; _b < disableDays_1.length; _b++) {\n            var d = disableDays_1[_b];\n            if (d.year === date.year && d.month === date.month && d.day === date.day) {\n                return true;\n            }\n        }\n        for (var _c = 0, disableDateRanges_1 = disableDateRanges; _c < disableDateRanges_1.length; _c++) {\n            var d = disableDateRanges_1[_c];\n            if (this.isInitializedDate(d.begin) && this.isInitializedDate(d.end) && dateMs >= this.getTimeInMilliseconds(d.begin) && dateMs <= this.getTimeInMilliseconds(d.end)) {\n                return true;\n            }\n        }\n        return false;\n    };\n    UtilService.prototype.isMarkedDate = function (date, markedDates, markWeekends) {\n        for (var _i = 0, markedDates_1 = markedDates; _i < markedDates_1.length; _i++) {\n            var md = markedDates_1[_i];\n            for (var _a = 0, _b = md.dates; _a < _b.length; _a++) {\n                var d = _b[_a];\n                if (d.year === date.year && d.month === date.month && d.day === date.day) {\n                    return { marked: true, color: md.color };\n                }\n            }\n        }\n        if (markWeekends && markWeekends.marked) {\n            var dayNbr = this.getDayNumber(date);\n            if (dayNbr === 0 || dayNbr === 6) {\n                return { marked: true, color: markWeekends.color };\n            }\n        }\n        return { marked: false, color: \"\" };\n    };\n    UtilService.prototype.isHighlightedDate = function (date, sunHighlight, satHighlight, highlightDates) {\n        var dayNbr = this.getDayNumber(date);\n        if (sunHighlight && dayNbr === 0 || satHighlight && dayNbr === 6) {\n            return true;\n        }\n        for (var _i = 0, highlightDates_1 = highlightDates; _i < highlightDates_1.length; _i++) {\n            var d = highlightDates_1[_i];\n            if (d.year === date.year && d.month === date.month && d.day === date.day) {\n                return true;\n            }\n        }\n        return false;\n    };\n    UtilService.prototype.getWeekNumber = function (date) {\n        var d = new Date(date.year, date.month - 1, date.day, 0, 0, 0, 0);\n        d.setDate(d.getDate() + (d.getDay() === 0 ? -3 : 4 - d.getDay()));\n        return Math.round(((d.getTime() - new Date(d.getFullYear(), 0, 4).getTime()) / 86400000) / 7) + 1;\n    };\n    UtilService.prototype.isMonthDisabledByDisableUntil = function (date, disableUntil) {\n        return this.isInitializedDate(disableUntil) && this.getTimeInMilliseconds(date) <= this.getTimeInMilliseconds(disableUntil);\n    };\n    UtilService.prototype.isMonthDisabledByDisableSince = function (date, disableSince) {\n        return this.isInitializedDate(disableSince) && this.getTimeInMilliseconds(date) >= this.getTimeInMilliseconds(disableSince);\n    };\n    UtilService.prototype.isInitializedDate = function (date) {\n        return date.year !== 0 && date.month !== 0 && date.day !== 0;\n    };\n    UtilService.prototype.isSameDate = function (d1, d2) {\n        return d1.year === d2.year && d1.month === d2.month && d1.day === d2.day;\n    };\n    UtilService.prototype.getTimeInMilliseconds = function (date) {\n        return new Date(date.year, date.month - 1, date.day, 0, 0, 0, 0).getTime();\n    };\n    UtilService.prototype.getDayNumber = function (date) {\n        return new Date(date.year, date.month - 1, date.day, 0, 0, 0, 0).getDay();\n    };\n    UtilService.prototype.getWeekDays = function () {\n        return this.weekDays;\n    };\n    UtilService.prototype.getWeekdayIndex = function (wd) {\n        return this.weekDays.indexOf(wd);\n    };\n    UtilService.ctorParameters = [];\n    return UtilService;\n}());\n//# sourceMappingURL=my-date-picker.util.service.js.map\n",null]}